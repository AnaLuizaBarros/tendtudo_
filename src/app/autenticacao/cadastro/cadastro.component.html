<div class="container register-container">
  <div class="row justify-content-center">
    <div class="col-lg-8 col-md-10">

      <div class="text-left mb-5">
        <h1 class="fw-bold">Cadastre-se</h1>
        <p class="text-muted">Vamos configurar tudo para que você possa acessar sua conta pessoal.</p>
      </div>

      <form [formGroup]="form" (ngSubmit)="onSubmit()">
        <div class="row g-4">
          <div class="col-md-6">
            <div class="input-container">
              <input type="text" id="firstName" placeholder=" " formControlName="firstName">
              <label for="firstName">Nome</label>
            </div>
            <tt-form-control-error [control]="getControl('firstName')" fieldName="Nome"></tt-form-control-error>
          </div>

          <div class="col-md-6">
            <div class="input-container">
              <input type="text" id="lastName" placeholder=" " formControlName="lastName">
              <label for="lastName">Sobrenome</label>
            </div>
            <tt-form-control-error [control]="getControl('lastName')" fieldName="Sobrenome"></tt-form-control-error>
          </div>

          <div class="col-md-6">
            <div class="input-container">
              <input type="email" id="email" placeholder=" " formControlName="email">
              <label for="email">Email</label>
            </div>
            <tt-form-control-error [control]="getControl('email')" fieldName="Email"></tt-form-control-error>
          </div>

          <div class="col-md-6">
            <div class="input-container">
              <input type="tel" id="phone" placeholder=" " formControlName="phone" mask="(00) 00000-0000">
              <label for="phone">Número de telefone</label>
            </div>
            <tt-form-control-error [control]="getControl('phone')" fieldName="Telefone"></tt-form-control-error>
          </div>

          <div class="col-12">
            <div class="input-container">
              <input [type]="showPassword ? 'text' : 'password'" id="password" placeholder=" " formControlName="password">
              <label for="password">Senha</label>
              <button type="button" class="toggle-password" (click)="togglePasswordVisibility()">
                <i class="bi" [ngClass]="showPassword ? 'bi-eye' : 'bi-eye-slash'"></i>
              </button>
            </div>
            <tt-form-control-error [control]="getControl('password')" fieldName="Senha"></tt-form-control-error>
          </div>

          <div class="col-12">
            <div class="input-container">
              <input [type]="showConfirmPassword ? 'text' : 'password'" id="confirmPassword" placeholder=" " formControlName="confirmPassword">
              <label for="confirmPassword">Confirmar senha</label>
              <button type="button" class="toggle-password" (click)="toggleConfirmPasswordVisibility()">
                <i class="bi" [ngClass]="showConfirmPassword ? 'bi-eye' : 'bi-eye-slash'"></i>
              </button>
            </div>
            <tt-form-control-error [control]="getControl('confirmPassword')" fieldName="Confirmação da senha"></tt-form-control-error>
          </div>

          <div class="col-12">
            <div class="input-container">
              <input type="text" id="address" placeholder=" " formControlName="address">
              <label for="address">Endereço</label>
            </div>
            <tt-form-control-error [control]="getControl('address')" fieldName="Endereço"></tt-form-control-error>
          </div>

          <div class="col-md-12">
            <div class="input-container">
              <input type="text" id="city" placeholder=" " formControlName="city">
              <label for="city">Cidade</label>
            </div>
            <tt-form-control-error [control]="getControl('city')" fieldName="Cidade"></tt-form-control-error>
          </div>

          <div class="col-md-12">
            <div class="input-container">
              <input type="text" id="country" placeholder=" " formControlName="country">
              <label for="country">País</label>
            </div>
            <tt-form-control-error [control]="getControl('country')" fieldName="País"></tt-form-control-error>
          </div>

          <div class="col-md-12">
            <div class="input-container">
              <input type="text" id="zip" placeholder=" " formControlName="zip" mask="00000-000">
              <label for="zip">CEP</label>
            </div>
            <tt-form-control-error [control]="getControl('zip')" fieldName="CEP"></tt-form-control-error>
          </div>

          <div class="col-12">
            <label class="custom-checkbox">
              Concordo com todos os <a href="#" class="text-custom-orange">Termos</a> e <a href="#" class="text-custom-orange">Políticas de privacidade</a>
              <input type="checkbox" formControlName="termsCheck">
              <span class="checkmark"></span>
            </label>
            <tt-form-control-error [control]="getControl('termsCheck')" fieldName="Termos"></tt-form-control-error>
          </div>

          <div class="col-12 mt-4">
            <div class="d-grid">
              <button type="submit" class="btn btn-custom-orange btn-lg" [disabled]="form.invalid || isLoading">
                <span *ngIf="isLoading" class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span>
                <span *ngIf="!isLoading">Criar conta</span>
              </button>
            </div>
          </div>
        </div>
      </form>

      <div class="text-center mt-4">
        <p class="text-muted">
          Já tem uma conta? <a routerLink="/auth/login" class="text-custom-orange fw-bold">Faça login</a>
        </p>
      </div>

    </div>
  </div>
</div>
