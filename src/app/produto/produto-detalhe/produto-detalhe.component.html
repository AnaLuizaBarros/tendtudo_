<main *ngIf="product() as product; else loading">
  <div class="container my-5">
    <div class="mb-4">
      <button (click)="goBack()" class="back-link">
        <img src="../../../assets/back.svg" alt="Voltar">
        Voltar
      </button>
    </div>

    <section class="row g-5" [attr.aria-labelledby]="'product-title-' + product.id">
      <div class="col-md-6">
        <div class="product-image-container bg-light rounded">
          <img [src]="product.thumbnail" class="img-fluid" [alt]="product.title">
        </div>
      </div>

      <div class="col-md-6 d-flex flex-column justify-content-center box-description">
        <p class="product-category text-uppercase">{{ product.category }}</p>

        <div class="d-flex align-items-center">
          <h1 class="product-title" [id]="'product-title-' + product.id">{{ product.title }}</h1>
          <button (click)="toggleFavorite()" class="favorite-icon" [attr.aria-label]="isFavorite() ? 'Remover dos favoritos' : 'Adicionar aos favoritos'">
            <i class="bi" [ngClass]="{'bi-heart-fill active': isFavorite(), 'bi-heart': !isFavorite()}" aria-hidden="true"></i>
          </button>
        </div>

        <div class="d-flex align-items-center mb-3 mt-3">
          <tt-product-rating [product]="product"></tt-product-rating>
        </div>

        <h2 class="text-uppercase mt-4 description-title">Descrição</h2>
        <p class="text-description">{{ product.description }}</p>

        <div class="d-grid button-section">
          <button class="btn btn-custom-orange btn-lg" (click)="addCart()">
            <img src="../../../assets/shopping_bag.svg" alt="">
            Adicionar ao carrinho
          </button>
        </div>
      </div>
    </section>
  </div>
</main>

<ng-template #loading>
  <div class="my-5" role="status" aria-live="polite">
    <tt-loading-spinner></tt-loading-spinner>
  </div>
</ng-template>